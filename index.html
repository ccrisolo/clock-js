<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Clock_JS</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="heading-wrapper">
            <h1 class="heading">What Time Is It?</h1>
            <p>Built with JavaScript</p>
        </div>
        <div class="clock">
            <div class="clock-face">
                <div class="hand hour-hand"></div>
                <div class="hand minutes-hand"></div>
                <div class="hand seconds-hand"></div>
            </div>
            <div class="digital-time-wrapper">
                <h1 id="digital-time"></h1>
            </div>
        </div>

        <script>
            const hourHand = document.querySelector(".hour-hand");
            const secondsHand = document.querySelector(".seconds-hand");
            const minutesHand = document.querySelector(".minutes-hand");

            const timeEl = document.getElementById("digital-time");
            const time = getCurrentTime();
            timeEl.innerText = time;

            function getCurrentTime() {
                const now = new Date();

                const hour = now.getHours();
                const minutes =
                    (now.getMinutes() < 10 ? "0" : "") + now.getMinutes();
                const seconds = now.getSeconds();
                const utcHour = hour % 12;
                const amPm = hour > 12 ? "pm" : "am";

                const digitalTime = `${utcHour}:${minutes}${amPm}`;

                timeEl.innerText = digitalTime;

                const hourDegrees = (hour / 12) * 360 + 90;
                const minutesDegrees = (minutes / 60) * 360 + 90;
                const secondsDegrees = (seconds / 60) * 360 + 90;

                hourHand.style.transform = `rotate(${hourDegrees}deg)`;
                minutesHand.style.transform = `rotate(${minutesDegrees}deg)`;
                secondsHand.style.transform = `rotate(${secondsDegrees}deg)`;

                return digitalTime;
            }

            setInterval(getCurrentTime, 1000);
        </script>
    </body>
</html>
